تقرير عن كود لعبة "المغناطيسات المنطقية"

مقدمة
في هذا التقرير سنستعرض كود لعبة "المغناطيسات المنطقية" الذي يعتمد على خوارزميات البحث مثل البحث بالعمق (DFS) والبحث بالعرض (BFS) لحل اللعبة وتحريك القطع المغناطيسية على اللوحة. ستتم مناقشة تفاصيل الكود من حيث الحالات الابتدائية، الحالات النهائية، فضاء الحالات، توصيف اللعبة، وظيفة كل تابع وطريقة تنفيذ الخوارزميات.

1. الحالات الابتدائية للعبة

الحالة الابتدائية هي التكوين الأولي للعبة عند بداية الدور. عند بدء اللعبة، تكون اللوحة في حالة معينة تحتوي على:

قطع رمادية (G): هذه القطع غير مغناطيسية ولا تتحرك إلا بتأثير القطع المغناطيسية الأخرى (البنفسجية والحمراء).

قطع بنفسجية (P): هذه القطع مغناطيسية ذات تأثير تنافر (تدفع القطع الأخرى بعيدًا).

قطع حمراء (R): هذه القطع مغناطيسية ذات تأثير جذب (تسحب القطع الأخرى نحوها).

مربعات فارغة (E): هذه الأماكن هي التي يمكن للقطع المغناطيسية أن تتحرك إليها.

مربعات الهدف ( * ): هذه المربعات هي الأماكن التي يجب أن تصل إليها القطع المغناطيسية لإنهاء اللعبة بنجاح.


عند بداية اللعبة، تكون القطع مرتبة في أماكن محددة مسبقًا على اللوحة وفقًا لمتطلبات اللعبة. يُسمح للقطع المغناطيسية بالحركة ضمن اللوحة بناءً على تأثيراتها المغناطيسية.

2. الحالات النهائية

الحالة النهائية هي الحالة التي يجب أن تصل إليها اللعبة لكي يتم اعتبارها قد انتهت بنجاح. وتتمثل في:

وصول جميع القطع المغناطيسية (P و R) إلى المربعات المخصصة لها ( * ) أو إلى الأماكن الفارغة التي تتناسب مع القواعد (E).

التأكد من عدم وجود قطع فوق بعضها البعض.

جميع القطع في المكان الصحيح كما هو مطلوب: يجب أن تتواجد القطع المغناطيسية في الأماكن المخصصة لها دون أي تداخل أو تجاوز.


عند الوصول إلى هذه الحالة النهائية، تعتبر اللعبة قد انتهت ويُعتبر اللاعب قد فاز.

3. فضاء الحالات

فضاء الحالات هو مجموعة جميع الحالات الممكنة التي يمكن أن تكون عليها اللعبة في أي وقت خلال سير اللعبة. فضاء الحالات يتكون من:

مواقع القطع المغناطيسية: يمكن أن تكون القطع في أي مكان على اللوحة وفقًا للحركات المسموح بها.

الحركات الممكنة: كل حركة للقطع تُغير من الوضع الحالي للعبة، ويمكن للقطع أن تتحرك إلى المربعات الفارغة (E) بناءً على تأثيرات التنافر والجذب.

العدد الكلي للحالات: مع كل حركة يمكن أن يظهر مجموعة كبيرة من الحالات التي تؤدي إلى حلول محتملة.


تتزايد تعقيد اللعبة بناءً على عدد القطع المغناطيسية وحجم اللوحة، مما يزيد من حجم فضاء الحالات ويصعب البحث عن الحلول.

4. توصيف اللعبة

اللعبة عبارة عن لوحة مكونة من 5x5 مربعات، تحتوي على:

القطع الرمادية (G) التي لا تتحرك إلا بتأثير القطع المغناطيسية.

القطع البنفسجية (P) التي تسبب التنافر وتدفع القطع الأخرى بعيدًا.

القطع الحمراء (R) التي تسبب جذب القطع الأخرى نحوها.

المربعات الفارغة (E) التي يمكن للقطع المغناطيسية أن تتحرك إليها.

المربعات الهدف ( * ) التي يجب أن تصل إليها القطع المغناطيسية.


الهدف من اللعبة هو نقل القطع المغناطيسية إلى الأماكن المخصصة لها بطريقة صحيحة بحيث تملأ جميع المربعات الفارغة بالشكل المطلوب.

5. وظيفة كل تابع

move_piece: هذا التابع مسؤول عن تحريك قطعة مغناطيسية من مكان إلى آخر بناءً على تأثير التنافر والجذب. يتم تحريك القطعة باتجاه مكان فارغ (E) ويتم تعديل وضع القطع الأخرى وفقًا لذلك.

is_winner: يقوم هذا التابع بالتحقق من حالة الفوز في اللعبة، أي إذا كانت جميع القطع قد وصلت إلى المواقع المخصصة لها بشكل صحيح.

valid_move: يتحقق من صحة الحركة في اللعبة. إذا كانت القطعة تحاول الانتقال إلى مكان غير فارغ أو غير قانوني، يتم منع الحركة.

repulsion: يعالج التنافر الناتج عن القطع البنفسجية (P) التي تدفع القطع الأخرى بعيدًا عنها عند تحركها.

attraction: يعالج الجذب الناتج عن القطع الحمراء (R) التي تجذب القطع الأخرى نحوها عند تحركها.

get_neighbors: يُستخدم للحصول على الجيران المحتملين للقطعة الحالية، أي الأماكن التي يمكن أن تتحرك إليها القطع بناءً على القواعد.


6. طريقة تنفيذ خوارزميات البحث (DFS و BFS)

خوارزمية البحث بالعمق (DFS):

تبدأ هذه الخوارزمية من الحالة الابتدائية وتقوم باستكشاف كل المسارات الممكنة بشكل تتابعي حتى تصل إلى حل.

يتم تنفيذ الخوارزمية عن طريق التعمق في فضاء الحالات حتى الوصول إلى نهاية أو العودة من المسار إذا كان لا يؤدي إلى الحل.

هذه الخوارزمية قد تكون أكثر فاعلية في فضاءات الحالات العميقة، لكنها قد تتطلب وقتًا طويلاً في بعض الحالات.


خوارزمية البحث بالعرض (BFS):

تبدأ من الحالة الابتدائية وتستعرض جميع الحركات الممكنة في المستوى الأول (أي الحركات التي يمكن إجراؤها مباشرة من الحالة الحالية).

ثم تنتقل إلى المستوى التالي وتستعرض الحركات منه وهكذا حتى تجد الحل.

يُفضل استخدام BFS عندما يكون الحل قريبًا من الحالة الابتدائية، حيث يضمن العثور على الحل بأقل عدد من الحركات.



تنفيذ الخوارزميات:
تتم الخوارزميات من خلال استكشاف جميع الحركات الممكنة في فضاء الحالات باستخدام طوابير أو مكدسات لتخزين الحالات التي تم استكشافها. تتأكد الخوارزميات من صحة الحركات وتحترم قواعد اللعبة مثل التنافر والجذب بين القطع.

